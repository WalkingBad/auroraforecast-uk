---
import '../styles/components/social-proof.css';
import type { I18nPageHelper } from '../utils/i18n-page';

export interface Props {
  i18n?: I18nPageHelper;
}

const { i18n } = Astro.props;

// Translation with fallback to English
const title = i18n ? i18n.t('social_proof_title') : "Why Users Trust AuroraMe";

const stats = [
  {
    value: i18n ? i18n.t('stat1_value') : '150K+',
    label: i18n ? i18n.t('stat1_label') : 'Active Users'
  },
  {
    value: i18n ? i18n.t('stat2_value') : '23',
    label: i18n ? i18n.t('stat2_label') : 'UK Locations'
  },
  {
    value: i18n ? i18n.t('stat3_value') : '11 Years',
    label: i18n ? i18n.t('stat3_label') : 'Historical Data'
  }
];

const testimonials = [
  {
    text: i18n ? i18n.t('testimonial1_text') : "Got an alert 45 minutes before aurora appeared over Shetland. We were set up with cameras ready while everyone else missed it. The predictive notifications are incredibly accurate.",
    author: i18n ? i18n.t('testimonial1_author') : "App Store Review",
    location: i18n ? i18n.t('testimonial1_location') : "iOS, 5 stars"
  },
  {
    text: i18n ? i18n.t('testimonial2_text') : "Used the 27-day forecast and historical calendar to plan our Scotland trip. Picked the best week based on 11 years of data. Saw auroras on two clear nights!",
    author: i18n ? i18n.t('testimonial2_author') : "App Store Review",
    location: i18n ? i18n.t('testimonial2_location') : "iOS, 5 stars"
  },
  {
    text: i18n ? i18n.t('testimonial3_text') : "The quiet hours feature is perfect â€” no 3 AM alerts when I'm sleeping, but it still wakes me for KP 7+ storms. Finally an aurora app that respects your sleep schedule.",
    author: i18n ? i18n.t('testimonial3_author') : "Google Play Review",
    location: i18n ? i18n.t('testimonial3_location') : "Android, 5 stars"
  }
];
---

<section class="social-proof-section">
  <div class="social-proof-container">
    <h2 class="section-title">{title}</h2>

    <!-- Stats Grid -->
    <div class="stats-grid">
      {stats.map(stat => (
        <div class="stat-card">
          <div class="stat-value">{stat.value}</div>
          <div class="stat-label">{stat.label}</div>
        </div>
      ))}
    </div>

    <!-- Testimonials -->
    <div class="testimonials-grid">
      {testimonials.map(testimonial => (
        <blockquote class="testimonial-card">
          <div class="testimonial-quote">
            <svg class="quote-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
            </svg>
            <p class="testimonial-text">{testimonial.text}</p>
          </div>
          <cite class="testimonial-author">
            <span class="author-name">{testimonial.author}</span>
            <span class="author-location">{testimonial.location}</span>
          </cite>
        </blockquote>
      ))}
    </div>
  </div>
</section>
