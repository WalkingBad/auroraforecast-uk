---
import '../../styles/components/legal.css';
import type { PageI18nContext } from '../../utils/i18n-page';
import type { SupportedLanguage } from '@config/language-targeting';

export interface Props {
  i18n: PageI18nContext;
  currentDate: string;
  lang?: SupportedLanguage;
}

const { i18n, currentDate, lang = 'en' } = Astro.props;

const contactParagraph = i18n.tpl(i18n.t('cookie_contact_body'), {
  emailLink: `<a href="mailto:${i18n.t('cookie_contact_email_label')}">${i18n.t('cookie_contact_email_label')}</a>`
});
---

<main class="legal-container">
  <h1>{i18n.t('cookie_title')}</h1>
  <p class="legal-updated">{i18n.t('cookie_last_updated')} {currentDate}</p>

  <section>
    <h2>{i18n.t('cookie_intro_title')}</h2>
    <p>{i18n.t('cookie_intro_body')}</p>
  </section>

  <section>
    <h2>{i18n.t('cookie_what_title')}</h2>
    <p>{i18n.t('cookie_what_body')}</p>
  </section>

  <section>
    <h2>{i18n.t('cookie_usage_title')}</h2>
    <p>{i18n.t('cookie_usage_intro')}</p>
    <ul>
      <li>
        <strong>{i18n.t('cookie_usage_item1_title')}:</strong> {i18n.t('cookie_usage_item1_body')}
      </li>
      <li>
        <strong>{i18n.t('cookie_usage_item2_title')}:</strong> {i18n.t('cookie_usage_item2_body')}
      </li>
    </ul>
  </section>

  <section>
    <h2>{i18n.t('cookie_consent_title')}</h2>
    <p>{i18n.t('cookie_consent_body1')}</p>
    <p>{i18n.t('cookie_consent_body2')}</p>
  </section>

  <section>
    <h2>{i18n.t('cookie_manage_title')}</h2>
    <ul>
      <li>{i18n.t('cookie_manage_item1')}</li>
      <li>{i18n.t('cookie_manage_item2')}</li>
      <li>{i18n.t('cookie_manage_item3')}</li>
    </ul>
  </section>

  <section>
    <h2>{i18n.t('cookie_updates_title')}</h2>
    <p>{i18n.t('cookie_updates_body')}</p>
  </section>

  <section>
    <h2>{i18n.t('cookie_contact_title')}</h2>
    <p set:html={contactParagraph}></p>
  </section>
</main>

