---
/**
 * Data Source Attribution Component
 * Displays Met Office and NOAA data source attribution for E-E-A-T signals
 */
export interface Props {
  variant?: 'inline' | 'footer' | 'compact';
  class?: string;
}

const { variant = 'inline', class: className } = Astro.props;
---

<div class:list={['data-attribution', `data-attribution--${variant}`, className]}>
  {variant === 'compact' ? (
    <p class="data-attribution__text">
      Data: <a href="https://www.metoffice.gov.uk" target="_blank" rel="noopener">Met Office</a> & <a href="https://www.swpc.noaa.gov" target="_blank" rel="noopener">NOAA SWPC</a>
    </p>
  ) : (
    <>
      <p class="data-attribution__text">
        Aurora forecasts powered by real-time data from <a href="https://www.swpc.noaa.gov" target="_blank" rel="noopener">NOAA Space Weather Prediction Center</a> and weather conditions from <a href="https://www.metoffice.gov.uk" target="_blank" rel="noopener">UK Met Office</a>.
      </p>
      {variant === 'footer' && (
        <p class="data-attribution__disclaimer">
          Predictions are estimates based on current geomagnetic activity and local conditions.
        </p>
      )}
    </>
  )}
</div>

<style>
  .data-attribution {
    font-size: 0.85rem;
    color: var(--aurora-text-tertiary);
  }

  .data-attribution--inline {
    padding: var(--aurora-spacing-m) var(--aurora-spacing-l);
    background: var(--aurora-surface);
    border: 1px solid var(--aurora-border-light);
    border-radius: var(--aurora-radius-m);
    margin: var(--aurora-spacing-xl) 0;
  }

  .data-attribution--footer {
    text-align: center;
    padding: var(--aurora-spacing-l) 0;
    border-top: 1px solid var(--aurora-border-light);
    margin-top: var(--aurora-spacing-xl);
  }

  .data-attribution--compact {
    display: inline-block;
  }

  .data-attribution__text {
    margin: 0;
    line-height: 1.5;
  }

  .data-attribution__text a {
    color: var(--aurora-primary);
    text-decoration: none;
    font-weight: 500;
  }

  .data-attribution__text a:hover {
    text-decoration: underline;
  }

  .data-attribution__text a:focus-visible {
    outline: 2px solid var(--aurora-primary);
    outline-offset: 2px;
  }

  .data-attribution__disclaimer {
    margin: var(--aurora-spacing-s) 0 0;
    font-size: 0.8rem;
    opacity: 0.8;
  }
</style>
