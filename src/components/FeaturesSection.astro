---
import '../styles/components/features-section.css';
import type { I18nPageHelper } from '../utils/i18n-page';

export interface Props {
  i18n?: I18nPageHelper;
}

const { i18n } = Astro.props;

// Use i18n translations if available, otherwise fall back to English defaults
const title = i18n ? i18n.t('features_title') : "Why AuroraMe is Different";
const card1Title = i18n ? i18n.t('features_card1_title') : "4 Reality Factors Combined";
const card1Text = i18n ? i18n.t('features_card1_text') : "Space weather (NOAA OVATION + KP index), cloud coverage, moon brightness, and local darkness — all analyzed together. No more \"aurora possible\" alerts during cloudy skies or full moon.";
const card2Title = i18n ? i18n.t('features_card2_title') : "Location-Calibrated Predictions";
const card2Text = i18n ? i18n.t('features_card2_text') : "Tromsø needs KP ≥ 1.0, Edinburgh needs KP ≥ 6.0. Thresholds derived from 3+ years of historical data (8,768+ measurements). Results match actual aurora frequency: 200 nights/year in Arctic, 10 nights/year in mid-latitudes.";
const card3Title = i18n ? i18n.t('features_card3_title') : "Smart Notifications with Quiet Hours";
const card3Text = i18n ? i18n.t('features_card3_text') : "Push alerts arrive only during actual viewing hours: clear skies, dark conditions, sufficient activity. Quiet hours protection (customizable 11 PM - 7 AM). 30-minute cooldown prevents spam.";
const card4Title = i18n ? i18n.t('features_card4_title') : "Multi-Timeframe Intelligence";
const card4Text = i18n ? i18n.t('features_card4_text') : "Now: Real-time status updating every 5-10 minutes. Tonight: 12-72 hour detailed forecast. This month: 27-day trend calendar. History: 3+ years statistical analysis with best months algorithm.";
---

<section class="features-section">
  <div class="container">
    <h2 class="features-title">{title}</h2>
    <div class="features-grid">
      <div class="feature-card">
        <h3>
          <span class="feature-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </span>
          {card1Title}
        </h3>
        <p>{card1Text}</p>
      </div>
      <div class="feature-card">
        <h3>
          <span class="feature-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
          </span>
          {card2Title}
        </h3>
        <p>{card2Text}</p>
      </div>
      <div class="feature-card">
        <h3>
          <span class="feature-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
            </svg>
          </span>
          {card3Title}
        </h3>
        <p>{card3Text}</p>
      </div>
      <div class="feature-card">
        <h3>
          <span class="feature-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/>
            </svg>
          </span>
          {card4Title}
        </h3>
        <p>{card4Text}</p>
      </div>
    </div>
  </div>
</section>
